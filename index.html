<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <h1>react native webview bridge demo</h1>
    <form onsubmit="submit(event)">
      <input
        id="fileBtn"
        type="file"
        onchange="upload(event);"
        accept="image/*"
      />
      <img src="" id="img" />
    </form>

    <p>upload file name: <span id="fileName"></span></p>

    <button id="goBack">back1111111</button>
    <button id="saveToAlbum">save To Album</button>
    <button id="openWechat">open Wechat</button>
    <button id="openAliPay">open AliPay</button>
    <button id="openToolPack">openToolPack</button>
    <button id="openAlbum">openAlbum</button>
    <button id="startTask">startTask</button>
    <h1 id="message">Message: none1</h1>
    <img
      id="demoImage"
      src="http://torkcontabil.com.br/wp-content/uploads/2015/10/Logo-Default.png"
    />
  </body>
  <script type="text/javascript">

    // window.ReactNativeWebView.onMessage(function(message){
    //   document.getElementById('message').innerText(`Message: ${message}`);
    // })

    document.getElementById("startTask").addEventListener("click", function(){
      window.ReactNativeWebView.postMessage(
        JSON.stringify({
          action: 'startTask',
        })
      )
    });

    document.getElementById("goBack").addEventListener("click", function(){
      window.ReactNativeWebView.postMessage(
        JSON.stringify({
          action: 'disconnect',
        })
      )
    });

    document.getElementById("saveToAlbum").addEventListener("click", function(){
      window.ReactNativeWebView.postMessage(
        JSON.stringify({
          action: 'saveToAlbum',
          qrcode: 'abc123',
        })
      )
    });

    document.getElementById("openAlbum").addEventListener("click", function(){
      window.ReactNativeWebView.postMessage(
        JSON.stringify({
          action: 'saveToAlbum',
          qrcode: 'abc123',
        })
      )
    });

    document.getElementById("openWechat").addEventListener("click", function(){
      window.ReactNativeWebView.postMessage(
        JSON.stringify({
          action: 'openWechat',
          url: 'http://google.com.tw',
        })
      )
    });

    document.getElementById("openAliPay").addEventListener("click", function(){
      window.ReactNativeWebView.postMessage(
        JSON.stringify({
          action: 'openAliPay',
          url: 'http://yahoo.com.tw',
        })
      )
    });

    document.getElementById("openToolPack").addEventListener("click", function(){
      window.ReactNativeWebView.postMessage(
        JSON.stringify({
          action: 'openToolPack',
          url: 'http://hotmail.com.tw',
        })
      )
    });
  </script>
</html>